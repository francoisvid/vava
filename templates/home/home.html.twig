{% extends 'base.html.twig' %}

{% block title %}Hello {{ controller_name }}!{% endblock %}

{% block body %}

<body>
    <div class="container">
        <div class="jumbotron">
            <div class="container" style="text-align: center">
                <h1 class="display-3">Bienvenue sur Signe</h1>
                <p class="lead">
                    <div class="ui icon input" id="search" style="margin-top: 130px; width: 300px">
                    <input class="prompt" type="text" id="search" placeholder="Ville, CatÃ©gorie, Nom...">

                </div>
                </p>
            </div>
        </div>
    </div>

    
<div class="container">

    <script type="text/javascript">
        function myGetElementsByClassName(selector) {
            if ( document.getElementsByClassName ) {
                return document.getElementsByClassName(selector);
            }
            var returnList = new Array();
            var nodes = document.getElementsByTagName('div');
            var max = nodes.length;
            for ( var i = 0; i < max; i++ ) {
                if ( nodes[i].className == selector ) {
                    returnList[returnList.length] = nodes[i];
                }
            }
            return returnList;
        }

        var rssReader = {
            containers : null,
            // initialization function
            init : function(selector) {
                containers = myGetElementsByClassName(selector);
                for(i=0;i<containers.length;i++){
                    // getting necessary variables
                    var rssUrl = containers[i].getAttribute('rss_url');
                    var num = containers[i].getAttribute('rss_num');
                    var id = containers[i].getAttribute('id');

                    // creating temp scripts which will help us to transform XML (RSS) to JSON
                    var url = encodeURIComponent(rssUrl);
                    var googUrl = 'https://ajax.googleapis.com/ajax/services/feed/load?v=1.0&num='+num+'&q='+url+'&callback=rssReader.parse&context='+id;

                    var script = document.createElement('script');
                    script.setAttribute('type','text/javascript');
                    script.setAttribute('charset','utf-8');
                    script.setAttribute('src',googUrl);
                    containers[i].appendChild(script);
                }
            },

            // parsing of results by google
            parse : function(context, data) {
                var container = document.getElementById(context);
                container.innerHTML = '';

                // creating list of elements
                var mainList = document.createElement('ul');

                // also creating its childs (subitems)
                var entries = data.feed.entries;
                for (var i=0; i<entries.length; i++) {
                    var listItem = document.createElement('li');
                    var title = entries[i].title;
                    var contentSnippet = entries[i].contentSnippet;
                    var contentSnippetText = document.createTextNode(contentSnippet);

                    var link = document.createElement('a');
                    link.setAttribute('href', entries[i].link);
                    link.setAttribute('target','_blank');
                    var text = document.createTextNode(title);
                    link.appendChild(text);

                    // add link to list item
                    listItem.appendChild(link);

                    var desc = document.createElement('p');
                    desc.appendChild(contentSnippetText);

                    // add description to list item
                    listItem.appendChild(desc);

                    // adding list item to main list
                    mainList.appendChild(listItem);
                }
                container.appendChild(mainList);
            }
        };

        window.onload = function() {
            rssReader.init('post_results');
        }

    </script>

</div>



    <div id="carouselExampleControls" class="carousel slide" data-ride="carousel">
            <div class="carousel-inner">

                <div class="carousel-item active">
                    <img class="d-block w-100" src="http://placehold.it/1080x200" alt="First slide">
                </div>

                <div class="carousel-item">
                    <img class="d-block w-100" src="http://placehold.it/1080x200" alt="Second slide">
                </div>
                <div class="carousel-item">
                    <img class="d-block w-100" src="http://placehold.it/1080x200" alt="Third slide">
                </div>
            </div>
            <a class="carousel-control-prev" href="#carouselExampleControls" role="button" data-slide="prev">
                <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                <span class="sr-only">Previous</span>
            </a>
            <a class="carousel-control-next" href="#carouselExampleControls" role="button" data-slide="next">
                <span class="carousel-control-next-icon" aria-hidden="true"></span>
                <span class="sr-only">Next</span>
            </a>
        </div>
    <!-- DEBUT CODE MISE EN PAGE XML PAR ACTIFPUB V2 -->
    <div class="container">
    </div>
    <!------ Include the above in your HEAD tag ---------->

    <!-- Footer -->
    <div class="container">

    </div>
    <section id="footer">
        <div class="container">
            <div class="row text-center text-xs-center text-sm-left text-md-left">
                <div class="col-xs-12 col-sm-4 col-md-4">
                    <h5>Quick links</h5>
                    <ul class="list-unstyled quick-links">
                        <li><a href="javascript:void();"><i class="fa fa-angle-double-right"></i>Home</a></li>
                        <li><a href="javascript:void();"><i class="fa fa-angle-double-right"></i>About</a></li>
                        <li><a href="javascript:void();"><i class="fa fa-angle-double-right"></i>FAQ</a></li>
                        <li><a href="javascript:void();"><i class="fa fa-angle-double-right"></i>Get Started</a></li>
                        <li><a href="javascript:void();"><i class="fa fa-angle-double-right"></i>Videos</a></li>
                    </ul>
                </div>
                <div class="col-xs-12 col-sm-4 col-md-4">
                    <h5>Quick links</h5>
                    <ul class="list-unstyled quick-links">
                        <li><a href="javascript:void();"><i class="fa fa-angle-double-right"></i>Home</a></li>
                        <li><a href="javascript:void();"><i class="fa fa-angle-double-right"></i>About</a></li>
                        <li><a href="javascript:void();"><i class="fa fa-angle-double-right"></i>FAQ</a></li>
                        <li><a href="javascript:void();"><i class="fa fa-angle-double-right"></i>Get Started</a></li>
                        <li><a href="javascript:void();"><i class="fa fa-angle-double-right"></i>Videos</a></li>
                    </ul>
                </div>
                <div class="col-xs-12 col-sm-4 col-md-4">
                    <h5>Quick links</h5>
                    <ul class="list-unstyled quick-links">
                        <li><a href="javascript:void();"><i class="fa fa-angle-double-right"></i>Home</a></li>
                        <li><a href="javascript:void();"><i class="fa fa-angle-double-right"></i>About</a></li>
                        <li><a href="javascript:void();"><i class="fa fa-angle-double-right"></i>FAQ</a></li>
                        <li><a href="javascript:void();"><i class="fa fa-angle-double-right"></i>Get Started</a></li>
                        <li><a href="https://wwwe.sunlimetech.com" title="Design and developed by"><i class="fa fa-angle-double-right"></i>Imprint</a></li>
                    </ul>
                </div>
            </div>
            <div class="row">
                <div class="col-xs-12 col-sm-12 col-md-12 mt-2 mt-sm-5">
                    <ul class="list-unstyled list-inline social text-center">
                        <li class="list-inline-item"><a href="javascript:void();"><i class="fa fa-facebook"></i></a></li>
                        <li class="list-inline-item"><a href="javascript:void();"><i class="fa fa-twitter"></i></a></li>
                        <li class="list-inline-item"><a href="javascript:void();"><i class="fa fa-instagram"></i></a></li>
                        <li class="list-inline-item"><a href="javascript:void();"><i class="fa fa-google-plus"></i></a></li>
                        <li class="list-inline-item"><a href="javascript:void();" target="_blank"><i class="fa fa-envelope"></i></a></li>
                    </ul>
                </div>
                </hr>
            </div>
            <div class="row">
                <div class="col-xs-12 col-sm-12 col-md-12 mt-2 mt-sm-2 text-center text-white">
                    <p><u><a href="https://www.nationaltransaction.com/">National Transaction Corporation</a></u> is a Registered MSP/ISO of Elavon, Inc. Georgia [a wholly owned subsidiary of U.S. Bancorp, Minneapolis, MN]</p>
                    <p class="h6">&copy All right Reversed.<a class="text-green ml-2" href="https://www.sunlimetech.com" target="_blank">Sunlimetech</a></p>
                </div>
                </hr>
            </div>
        </div>
    </section>
    <!-- ./Footer -->
{% endblock %}

{% block javascripts %}
    <script>
        var geocoder = new google.maps.Geocoder();

        google.maps.event.addListener(marker, 'drag',function(){
            setPostion(marker);
        });
        $('#search').keypress(function(e){
            if(e.keyCode == 13){
                var request = {
                    address : $(this).val()
                }

                geocoder.geocode(request, function(results, status){
                    if(status == google.maps.GeocoderStatus.OK){
                        var pos = results[0].geometry.location;
                        map.setCenter(pos);
                        marker.setPosition(pos);
                        setPostion(marker);
                    }
                });
                return false;
            }

        });

    </script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.3.3/semantic.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
    <script src="https://code.jquery.com/jquery-3.1.1.min.js" integrity="sha256-hVVnYaiADRTO2PzUGmuLJr8BLUSjGIZsDYGmIJLv2b8=" crossorigin="anonymous"></script>
    <script src="//maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
{% endblock %}
